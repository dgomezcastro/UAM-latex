\setcounter{part}{1}
\part{\LaTeX\ para Matemáticas}
\label{sesion:2}
\firstslide

\frame{\tableofcontents}

\section{Primeros pasos}
\frame{\sectionpage}



\section{Fórmulas}

\subsection{Distintos tipos de fórmulas}

\begin{frame}[fragile]
    \frametitle{Escribiendo fórmulas}
    Hay diferentes entornos para escribir fórmulas:
    \begin{columns}
    \column{0.4\textwidth}
    \begin{enumerate}
        \item<1-> \alert<1>{En línea}
        \item<2-> \alert<2>{Presentada \\(con \latexinline{\[...\]} o \latexinline{$$...$$} )}
        \item<3-> \alert<3>{\latexinline{equation} }
        \item<4-> \alert<4>{\latexinline{align}}
    \end{enumerate}
    \column{0.5\textwidth}
        \only<1>{
            \begin{block}{Código}
                \small
                 \latexinline{Puedo escribir $e^{i\pi} + 1 = 0$}
            \end{block}
%            \vspace{.5cm}
            \fbox{
            \begin{minipage}{\textwidth} 
                Puedo escribir $e^{i\pi}+1 = 0$
            \end{minipage}  }
        }
        \only<2>{
            \begin{block}{Código}
                \latexinline{Puedo escribir} \\
                \latexinline{\[ e^{i\pi} + 1 = 0 \]}
            \end{block}
            %            \vspace{.5cm}
            \fbox{
                \begin{minipage}{\textwidth} 
                    Puedo escribir $$e^{i\pi}+1 = 0$$
                \end{minipage}  }
            }
        \only<3>{
            \begin{block}{Código}
            \latexfile{codigos/equation.tex}
            \end{block}
            %            \vspace{.5cm}
            \fbox{
                \begin{minipage}{\textwidth} 
                 \input{codigos/equation.tex}
                \end{minipage}  }
            }
        \only<4>{
            \begin{block}{Código}
                \latexfile{codigos/align.tex}
            \end{block}
            %            \vspace{.5cm}
            \fbox{
                \begin{minipage}{\textwidth} 
                    \input{codigos/align.tex}
                \end{minipage}  }
            }
    \end{columns}

    \pause 

    Añadir \latexinline{*} al final de estos comandos (\latexinline{equation*,align*},...) elimina la numeración.
\end{frame}

\subsection{Símbolos}
\begin{frame}[fragile]
\frametitle{Símbolos útiles}
\begin{tabular}{cl  cl cl}
	$+$ & +  & $\varepsilon$ & \verb|\varepsilon| & $\frac a b$ & \verb|\frac{a}{b}|\\
	$-$ & -  & $\delta$ & \verb|\delta| & $\sqrt a$ & \verb|\sqrt{a}| \\
	$\times$ & \verb|\times| & $\partial$ & \verb|\partial| & $a^b$ & \verb|{a}^{b}| \\
	$\div$ & \verb|\div| & $\Omega$ & \verb|\Omega|\\
	$\cdot$ & \verb|\cdot| & $\pi$ & \verb|\pi|\\
	$\oplus$ & \verb|\oplus| &\\
	$\otimes$ & \verb|\otimes|
\end{tabular}
\vspace{3ex}

La web \href{http://detexify.kirelabs.org/classify.html}{Detexify} permite buscar símbolos a partir de un dibujo a mano alzada.
\end{frame}


\begin{frame}[fragile]
    \frametitle{La ecuación más bella del mundo}
    La ecuación de Euler, popular por contener algunas de las más importantes constantes matemáticas puede escribirse
    \begin{columns}
        \column{.5\textwidth}
        \begin{block}{Código}
            \normalfont
        \begin{latexsource}
e^{i\pi} + 1 = 0
        \end{latexsource}
        \end{block}
        \column{.4\textwidth}
        \fbox{
            $ e^{i\pi} + 1 = 0 $
        }
    \end{columns}
    \begin{columns}
        \column{.5\textwidth}
        \begin{block}{Código}
            \normalfont
            \begin{latexsource}
Puedo escribir la ecuación
de Euler $e^{i \pi} + 1 = 0$
en línea o presentada
\[ 
    e^{i\pi} + 1 = 0 
\] 
para que quede mejor
            \end{latexsource}
        \end{block}
        \column{.4\textwidth}
        \fbox{\begin{minipage}{\textwidth}
Puedo escribir la ecuación de Euler $e^{i \pi} + 1 = 0$ en línea o presentada
\[ 
    e^{i\pi} + 1 = 0 
\]
para que quede mejor
\end{minipage}}
    \end{columns}
    
\end{frame}

\begin{frame}
	\frametitle{Subíndices y superíndices}
	Los subíndices de sumarios e integrales cambian de formato presentado a en línea
    \begin{columns} 
		\column{.5\textwidth}
		\begin{block}{Código} 
			\latexfile[fontsize=\footnotesize]{codigos/ejemplo-subindices.tex}
		\end{block} 
		\column{.4\textwidth}
		\begin{figure} 
			\fbox{
				\begin{minipage}{\textwidth }
				\input{codigos/ejemplo-subindices.tex}
				\end{minipage}
		}
		\end{figure} 
	\end{columns}
	\vspace{.5cm}

	\pause 
	
	Además la función \latexinline{\substack} es muy útil
	\vspace{-.5cm}
			\begin{columns} 
		\column{.5\textwidth}
		\begin{block}{Código} 
			\latexfile[fontsize=\tiny]
			{codigos/ejemplo-subindices-2.tex}
		\end{block} 
		\column{.4\textwidth}
		\begin{figure} 
			\fbox{
				\begin{minipage}{\textwidth }
					\input{codigos/ejemplo-subindices-2.tex}
				\end{minipage}
			}
		\end{figure} 
	\end{columns}
    
	
\end{frame}

\subsection{Matrices}

\begin{frame}[fragile]
\frametitle{Matrices}
    Las matrices se introducen siempre en entornos matemáticos. Maple y matlab permiten exportar matrices a \LaTeX. 
    Hay distintos tipos de matrices predeterminadas en el paquete \texttt{amsmath}.
    \begin{enumerate}
        \item \texttt{matrix} Sin bordes
        \item \texttt{pmatrix} Entre ()
        \item \texttt{vmatrix} Entre $| \ |$
        \item \texttt{bmatrix} Entre [ ]
    \end{enumerate}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Matrices}
    \framesubtitle{Ejemplo}
    \latexinputandcompile{codigos/matrix1.tex}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Matrices}
    \framesubtitle{Ejemplo}
    
    \latexinputandcompile{codigos/matrix2.tex}
\end{frame}

\subsection{Diagramas}

\begin{frame}[fragile]
\frametitle{El paquete \texttt{xy-pic}}
    Este paquete se emplea para hacer todo tipo de gráficos, por ejemplo el diagrama
    \[ 
        \xymatrix{
        A \ar[r]^f \ar[dr]_{g\circ f} & B \ar[d]^g \\
        & C 
        }
    \] 
    Tiene infinidad de opciones.
\end{frame}

\begin{frame}[fragile]
\frametitle{\texttt{xymatrix}} 
    Es la manera más sencilla de introducir diagramas. Los elementos que se conectarán por flechas se introducen en las posiciones de una matriz, de tipo \texttt{xymatrix}

    \latexinputandcompile{codigos/xy-empty.tex}

    Se puede introducir una \texttt{xymatrix} dentro o fuera de fórmulas, pero deberemos tener cuidado con el contenido.
\end{frame}

\begin{frame}[fragile]
    \frametitle{Las flechas}
    Dentro de una \texttt{xymatrix} podemos introducir flechas con el comando \latexinline{\ar}

    Admite varios modificadores
    \begin{columns}
    \column{0.4\textwidth}
    \begin{enumerate}
    \item <1-> \alert<1>{Destino} \only<1>{Colocando la flecha en la casilla de la que parte se coloca un cadena de cuantas casillas a derecha o izquierda y arriba o abajo está el destino.

    \latexinline{\ar[<hop>]}}
    \item <2-> \alert<2>{Etiqueta} \only<2>{Se puede escribir sobre las letras}
    \item <3-> \alert<3>{Tipo} \only<3>{Hay distintos tipos de base, cuerpos y cabezas de flecha

    \latexinline{\ar@{<type>}[<hop>]}}
    \item<4-> \alert<4>{Curvatura} \only<4>{
    Podemos curvar las flechas hacia arriba y hacia abajo, para evitar que se corten, o solo para quede más estiloso
    \latexinline{\ar @/<curve>/ [<hop>]}
    }
    \item<5-> \alert<5>{Entrada y salida} \only<5>{Si queremos que la flecha salga desde una parte en concreto de la celda podemos especificarlo

    \latexinline{\ar@(<in>,<out>)[<hop>]}}
    \end{enumerate}

    \column{0.4\textwidth}
    \fbox{
    \begin{minipage}{\textwidth}
    \centering
    \begin{tabular}{l l} %
    \only<1>{%
    \texttt{u} & arriba\\
    \texttt{d} & abajo \\
    \texttt{r} & derecha\\
    \texttt{l} & izquierda\\
    \texttt{ } & a si misma}%
    \only<2>{%
    \latexinline{\ar[r]^{f}} & \xymatrix{ a \ar[r]^f & b } \\
    \latexinline{\ar[r]_{f}} & \xymatrix{ a \ar[r]_f & b } \\
    \latexinline{\ar[r]|{f}} & \xymatrix{ a \ar[r]|f & b }
    }%
    \only<3>{%
    \latexinline{@{=>}} & \xymatrix{ a \ar@{=>}[r] & b } \\
    \latexinline{@{.>}} & \xymatrix{ a \ar@{.>}[r] & b } \\
    \latexinline{@{:>}} & \xymatrix{ a \ar@{:>}[r] & b } \\
    \latexinline{@{~>}} & \xymatrix{ a \ar@{~>}[r] & b } \\
    \latexinline{@{-->}} & \xymatrix{ a \ar@{-->}[r] & b} \\
    \latexinline{@{|->}} & \xymatrix{ a \ar@{|->}[r] & b} 
    }%
    \only<4>{%
    \latexinline{@/_/} & \xymatrix{ a \ar@/_/[r] & b } \\
    \latexinline{@/^/} & \xymatrix{ a \ar@/^/[r] & b } \\
    \latexinline{@/_1mm/} & \xymatrix{ a \ar@/_1mm/[r] & b }
    }%
    \only<5>{%
    \latexinline{@(u,d)[r]} & \xymatrix{ a \ar@(u,d)[r] & b } \\
    \latexinline{@(ur,dr)[]} &\xymatrix{a \ar@(ur,dr)[] & b}
    }
    \end{tabular}
    \end{minipage}    
    }
    \end{columns}

\end{frame}

\begin{frame}[fragile]
\frametitle{Las flechas}
\framesubtitle{Ejercicio}

Escriba el siguiente diagrama:
\scriptsize
\input{codigos/xy.tex}

\uncover<2>{\begin{block}{Código (\texttt{ejercicio3.tex})}
\scriptsize
\latexfile{codigos/xy.tex}
\end{block}}
\end{frame}

\begin{frame}[fragile]
\frametitle{El paquete \texttt{xy-pic} y el paquete \texttt{babel}}
El paquete \texttt{babel} entra en conflicto con \latexinline{@} así que si queremos hacer buenos diagramas debemos desactivarlo. Empleando \latexinline{inputenc} con \texttt{utf8} no tendremos problemas con los acentos. Debemos cambiar los nombres de capítulos y secciones.
Para ello
\latexinline{\renewcommand{<command>}{<new_name>}}\\
\vspace{.5cm}

\centering
\scriptsize
\begin{tabular}{l|l}
\latexinline{\abstractname}&	 Abstract \\
\latexinline{\appendixname} &	 Appendix\\
\latexinline{\bibname}&	 Bibliography (report,book)\\
\latexinline{\chaptername} &	 Chapter (report,book)\\
\latexinline{\contentsname} &	 Contents\\
\latexinline{\figurename}	& Figure (for captions)\\
\latexinline{\indexname}	& Index\\
\latexinline {\listfigurename}&	 List of Figures\\
\latexinline{\listtablename}&	 List of Tables\\
\latexinline{\tablename}&	 Table (for caption)\\
\end{tabular}

\end{frame}

\section{Teoremas}

\begin{frame}[fragile]
    \frametitle{Teoremas}
    \framesubtitle{El paquete \texttt{amsthm}}
%Existen más paquetes como \texttt{ntheorem}.
A la hora definir un teorema debemos tener en cuenta tres cosas
\begin{columns}
\column{0.5\textwidth}
\begin{enumerate}
	\item <1-> \alert<1>{El estilo}\only<1>{: Los teoremas se escriben en cursiva, mientras que las definiciones se escriben con fuente normal.}
	\item <2-> \alert<2>{El nombre}\only<2>{: Debemos poner un nombre de entorno \latexinline{<env>}, ya sea teorema (por ejemplo \latexinline{<env>=teorema}) un nombre para mostrar en el documento (por ejemplo \latexinline{<name>=Teorema})}
	\item <3-> \alert<3>{La numeración}\only<3>{: Podemos numerar los teoremas de diferentes maneras}
	\only<4->{\begin{enumerate}[a)]
		\item <4-> Con su propio contador: \only<4>{El contador se crea por defecto si no decimos nada más, y se nombra automáticamente como \latexinline{<env>}}
		\item <5-> Siguiendo la numeración de otro teorema ya definido
		\item <6->Supeditada a otro contador, por ejemplo la sección. \only<6>{En este caso el contador de tipo a) lleva como predecesor el otro contador, y se resetea al cambiar el contador al que supedita}
		\end{enumerate}}
\end{enumerate}
	\column{0.5\textwidth}
\begin{block}{Código}
\small
\latexinline{\documentclass}\\

(...)\\

\alert<1>{ \latexinline{\theoremstyle{<style>}} }\\

\latexinline{\newtheorem}\alert<2>{\latexinline{{<env>}}}\only<5>{\alert{ \texttt{[<counter>]}}}\alert<2>{\latexinline{{<name>}}}\only<6>{\alert{\texttt{[<counter>]}}}\\

(...)\\

\latexinline{\begin{document}}\\

\end{block}
\end{columns}
\only<1>{
Hay tres estilos predefinidos:\\

\hspace{1cm}~
		\begin{tabular}{r|l}
		\texttt{plain} & \textbf{Theorem 1.}\textit{Theorem text.} \\
		\texttt{definition} & \textbf{Definition 1.} {Definition text.} \\
		\texttt{remark} & \textit{Remark 1.}{Remark text.} \\
		\end{tabular}}
\end{frame}


\begin{frame}[fragile]
    \frametitle{Teoremas}
    \framesubtitle{Ejemplo}
Este es el aspecto de un teorema normal definido con el paquete \texttt{amsthm}.
\begin{columns}
	\column{0.5\textwidth}
	\begin{block}{Código (\texttt{thm1.tex})}
		\scriptsize
		\latexfile{codigos/thm1.tex}
	\end{block}
	\column{0.4\textwidth}
	\fbox{\begin{minipage}{\textwidth}
		\textbf{Teorema 1} (Euclides)~\textbf{.} \textit{No existe un primo mayor que el resto.}
		\end{minipage}
	}
\end{columns}
\end{frame}

\begin{frame}
	\frametitle{Operadores matemáticos} 
	
	Con el paquete \texttt{amsmath} se pueden definir operadores matemáticos, como $\mathrm{div}$ o $\mathrm{rot}$:
	
	\begin{center} 
		\latexinline{\DeclareMathOperator{\rot}{rot}}
	\end{center} 

    Si queremos que el operador tenga sub-índice debajo entonces
    \begin{center} 
		\latexinline{\DeclareMathOperator*{\argmin}{arg\,min}}
	\end{center} 
\end{frame}


\begin{frame}
    \frametitle{Ejercicio}
    Escribir el siguiente documento \LaTeX \\
    
    \centering
    \fbox{
            \includegraphics[trim=3cm 13cm 3cm 5cm,clip,scale=.5]{codigos/thm2.pdf}
    }

\end{frame}
\begin{frame}
    \frametitle{Solución}
    \begin{columns}
    \column{0.4\textwidth}
    \centering
    \begin{block}{Código (\texttt{ejercicio1.tex})}
    \tiny
    \latexfile[lastline=17]{codigos/thm2.tex}
    \end{block}
    \column{0.4\textwidth}
    \centering
    \begin{block}{Código}
        \tiny
        \latexfile[firstline=18]{codigos/thm2.tex}
    \end{block}
    \end{columns}
\end{frame}