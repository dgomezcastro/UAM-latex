\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\let\Tiny=\tiny
\usepackage{lmodern}
\usefonttheme{professionalfonts}

\usepackage[spanish]{babel}

\AtBeginSection[]%
{
  \frame{\sectionpage}
}


\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{listings}
\usepackage[all]{xy}

\usepackage{tikz}

% Estilo de diapositiva
\usetheme{Madrid}
\usecolortheme{dolphin}
% Change base colour beamer@blendedblue (originally RGB: 0.2,0.2,0.7)
\colorlet{beamer@blendedblue}{green!40!black} % UAM

\makeatletter
\setbeamertemplate{footline}{
  \leavevmode%
  \hbox{%
    \begin{beamercolorbox}[wd=.4\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
      \usebeamerfont{author in head/foot}\insertshortauthor\expandafter\ifblank\expandafter{\beamer@shortinstitute}{}{~~(\insertshortinstitute)}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.3\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
      \usebeamerfont{title in head/foot}\insertshorttitle~(\partname~\thepart)
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.3\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
      \usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2em}
      \insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
    \end{beamercolorbox}}%
  \vskip0pt%
}
\makeatother

\beamertemplatenavigationsymbolsempty

% Para la parte de los teoremas
\usepackage{amsmath,amsthm,mathtools}

\theoremstyle{plain}
\newtheorem{teorema}{Teorema}

\usepackage[]{hyperref}

\setbeamerfont{section in toc}{size=\normalsize }
\setbeamerfont{subsection in toc}{size=\small }
\useinnertheme{circles}

% \usepackage{verbatim}
\usepackage{minted2} % not maintained. however minted in version 3 has breaking changes
\newminted[latexsource]{latex}{linenos=false,autogobble,breaklines}
\newmintinline[latexinline]{latex}{breaklines}
\newmintedfile[latexfile]{latex}{breaklines}

%%%%
% This command has problems with output
%%%%
% \newenvironment{latexsourceandcompile}
%  {\VerbatimOut{\jobname.tmp}}
%  {\endVerbatimOut
%  \begin{columns}
%   \column{.4\textwidth}
%   \begin{block}{Código}
%     \latexfile{./\jobname.tmp}
%   \end{block}
%   \column{0.4\textwidth}
%   \centering
%   \fbox{
%   \begin{minipage}{\textwidth}
%     \input{\jobname.tmp}
%   \end{minipage}
%   }
% \end{columns}}

\newcommand{\codeandsomething}[4]
{
  \begin{columns}
    \column{#1\textwidth}
    \begin{block}{Código}
      #3
    \end{block}
    \column{#2\textwidth}
    \centering
    \fbox{
      \begin{minipage}{\textwidth}
        #4
      \end{minipage}
    }
  \end{columns}
}

\newcommand{\latexinputandpdf}[1]
{
  \codeandsomething
  {0.45}{0.45}
  {\latexfile{#1.tex}}
  {\includegraphics[width=\textwidth]{#1.pdf}}
}

\newcommand{\latexinputandcompile}[1]{
  \codeandsomething
  {0.45}{0.45}
  {\latexfile{#1}}
  {\input{#1}}
}

\newcommand{\latexinlineandcompile}[1]
{
  \codeandsomething
  {0.45}{0.45}
  {\latexinline{#1}}
  {{#1}}
}

\newcommand{\latexrowinlineandcompile}[1]
{
  \latexinline{#1} & {#1}
}
\newcommand{\latexrowcompileandinline}[1]
{
  {#1} & \latexinline{#1}
}

\usepackage{import}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% The following is patch to make import and minted behave together
%% https://github.com/gpoore/minted/issues/251
%% This "hacky" part requires staying in minted2 instead of minted for
%% compatibility with import.
%% I am suscribed to this issue and will update is possible 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{xpatch}

\makeatletter
% fix for first kind
\xpatchcmd\inputminted
{#3}
{\import@path #3}
{}{\fail}

% fix for second kind
\xpretocmd\minted@pygmentize
{\restore@IfFileExists} % direct \let\IfFileExists\im@@IfFileExists works too
{}{\fail}
\def\restore@IfFileExists{%
  \ifx\IfFileExists\@iffileonpath
    \let\IfFileExists\im@@IfFileExists
  \fi
}
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand<>{\emph}[1]{{\only#2{\em}#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subimport{./}{bibliography.tex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LECTURES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\addto\captionsspanish{\renewcommand{\partname}{Sesión}}
\renewcommand{\thepart}{\Roman{part}}

\AtBeginPart{
  \label{part:\arabic{part}}
  \setcounter{section}{0}
}

% \newcommand{\lecturename}{Sesión}

% \AtBeginLecture{
%   \begin{frame}
%     \centering

%     {\LARGE \lecturename~\Roman{lecture}}

%     \bigskip 

%     \bigskip

%     {\LARGE \color{green!40!black} \insertlecture}

%   \end{frame}
% }


% \crefname{part}{sesión}{sesiones}
% \Crefname{part}{Sesión}{Sesiones}


%% Fix section counters in toc parts
% % Patch vertical separation between sections in toc
% \makeatletter
% \patchcmd{\beamer@sectionintoc}
%   {\vfill}
%   {\vskip\itemsep}
%   {}
%   {}
% \makeatother  

% Define a new style of section in toc to look like itemize
\defbeamertemplate{section in toc}{sectionasitem}{%
  \leavevmode%
  \usebeamerfont*{itemize item}%
  \raise1.25pt\hbox{\usebeamercolor[fg]{structure}\quad$\bullet$}
  {\usebeamercolor*[fg]{normal text}\inserttocsection}%
}
\setbeamertemplate{section in toc}[sectionasitem]

\setbeamertemplate{itemize items}[circle]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\title{Curso de \LaTeX}
\author{David Gómez-Castro}
\institute[UAM]{Universidad Autónoma de Madrid}
\date{2025-2026}

